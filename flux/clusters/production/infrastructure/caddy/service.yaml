apiVersion: v1
kind: Service
metadata:
  namespace: infra
  name: caddy
  labels:
    app: caddy
spec:
  type: NodePort
  externalIPs:
    - 159.69.52.101
  ports:
    - port: 80
      targetPort: 80
      protocol: TCP
    - port: 443
      targetPort: 443
      protocol: TCP

  # type: LoadBalancer
  # externalTrafficPolicy: Local
  # # loadBalancerIP:
  # selector:
  #   app: caddy
  # ports:
  #   - name: http
  #     port: 80
  #   - name: https
  #     port: 443
